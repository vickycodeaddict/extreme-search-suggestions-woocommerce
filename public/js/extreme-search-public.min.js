!function(s){"use strict";if(1==es_obj.es_main){let t=es_obj.es_selector;t.trim(),0==s(t).length&&(t='input[name="s"]:not(#adminbar-search)'),t+=":visible:first","yes"==es_obj.es_popup&&(s(t).addClass("es_popup_input"),s(t).wrap('<div class="es_popup_wrap"></div>'),s(t).after('<span class="es_close">&#215;</span>'),s(t).on("focus",function(){s(t).parent(".es_popup_wrap").addClass("active"),s("body").addClass("es_popup_active")}),s(".es_popup_wrap").on("click touchstart",".es_close",function(){s(".es_popup_wrap").removeClass("active")}));var e=localStorage.getItem("es_terms");if(""!==e&&null!=e&&e.length>0){var a=JSON.parse(e);s.post(es_obj.es_admin_ajax_url,a,function(s){}),localStorage.setItem("es_terms","")}s(t).devbridgeAutocomplete({serviceUrl:es_obj.es_ajax_url,maxHeight:850,autoSelectFirst:!1,onSearchStart:function(s){return s.query=s.query.replace("?",'"'),s.query=s.query.replace("â€³",'"'),s},formatResult:function(e,a){if("c"===e.type)var t="<div><div class='es-inr'><div class='itm-meta'><div class='es_cat_wrap'><strong>"+e.value+" </strong><small> "+es_obj.es_trans_cat_desc+"</small></div></div></div></div>";else{t="<div><div class='es-inr'>";-1!==s.inArray("thumb",es_obj.es_display_field)&&(t+="<div class='itm-img'><img src='"+(e.data.icon?e.data.icon:es_obj.es_woo_placeholder)+"'/></div>"),t+="<div class='itm-meta'><div class='es_title'><strong class='ttl'>"+e.value+"</strong>",-1!==s.inArray("price",es_obj.es_display_field)&&(t+="<strong class='price'>"+es_obj.es_currency_symbol+parseFloat(e.data.price).toFixed(2)+"</strong>"),t+="</div>",t+="<div class='es_prio_meta'>",-1!==s.inArray("sku",es_obj.es_display_field)&&""!=e.data.fields.sku&&(t+="<span class='sml'>"+es_obj.es_trans_sku+" : "+e.data.fields.sku+"</span>"),t+="</div>",t+="<div class='es_t_meta'>",-1!==s.inArray("cat",es_obj.es_display_field)&&""!=e.data.fields.cat&&(t+="<span class='sml'>"+es_obj.es_trans_cat+" : "+e.data.fields.cat+"</span> &nbsp; "),s.each(es_obj.es_display_terms,function(s,a){""!=e.data.attr[a]&&(t+="<span class='sml'><span class='captl'>"+a+"</span> : "+e.data.attr[a]+"</span> &nbsp; ")}),t+="</div>",t+="</div></div></div>"}return t},triggerSelectOnValidInput:!0,autoFocus:!1,minChars:es_obj.es_min_char,onSelect:function(e){localStorage.setItem("es_terms",JSON.stringify({type:e.type,id:e.id,action:"es_update_term"})),"yes"==es_obj.es_redirect?(s(t).val(""),window.open(e.data.link)):location.href=e.data.link}})}}(jQuery);